% -------------------------------------------------------------------
%  Generated by MATLAB on 22-Nov-2021 11:21:19
%  MATLAB version: 9.10.0.1739362 (R2021a) Update 5
% -------------------------------------------------------------------
saveVarsMat = load('car_state_space.mat');

A = ...
  [-4.4021164021164028 0 -12.46031746031746 0;
   0 0 1 0;
   1.3913043478260869 0 -5.186782608695653 0;
   1 15 0 0];

B = [24.126984126984127; 0; 15.860869565217392; 0];

C = ...
  [0 0 0 1;
   0 1 0 0];

Cf = 19000;

Cr = 33000;

D = [0; 0];

Iz = 2875;

Vx = 15;

lf = 1.2;

lr = 1.6;

m = 1575;

mpc1 = saveVarsMat.mpc1; % <1x1 mpc> unsupported class

posRef = ...
  [-10 0 0;
   -8.5000000389649344 -0.00032057688834367633 0;
   -7.00000013243916 0.0001046627707353404 0;
   -5.5000013719066843 0.0019633028915715441 0;
   -4.0000068200170222 0.0059429239765455251 0;
   -2.500022456114432 0.012731095719916501 0;
   -1.000058121729845 0.023015362926791384 0;
   0.49987153401052709 0.037483222580328462 0;
   1.9997488741214804 0.05661776191230368 0;
   3.4995533957878173 0.0807832726616669 0;
   4.9992537956041394 0.11070949504224792 0;
   6.4988102169399058 0.14713214905782759 0;
   7.99817323834591 0.19078661801418004 0;
   9.4972827923589911 0.24240782912164788 0;
   10.996067085850811 0.3027301079820538 0;
   12.494441522418191 0.37248700431913734 0;
   13.992307627411369 0.45241108632067739 0;
   15.489552329450575 0.54322828982636229 0;
   16.986104748171872 0.64482692871996372 0;
   18.481993555798578 0.75577957443767907 0;
   19.977281971545665 0.87455822436566311 0;
   21.472057156443615 0.99963648279861006 0;
   22.966425539696488 1.1294893996997795 0;
   24.46050815174387 1.2625932112379594 0;
   25.954435963048805 1.3974250059040985 0;
   27.448345227102681 1.5324623399719128 0;
   28.942364285176254 1.6662786950018476 0;
   30.43653068335416 1.7984397038989934 0;
   31.93085365809711 1.9288182087711181 0;
   33.425345542750946 2.0572458498503861 0;
   34.920018011779121 2.1835542137146304 0;
   36.414882023832668 2.3075748302864034 0;
   37.909947764790829 2.429139170234988 0;
   39.405224590771311 2.5480786428134428 0;
   40.900720971109862 2.6642245941628082 0;
   42.396444431308815 2.7774083061155972 0;
   43.892403246150053 2.8874369946783749 0;
   45.38861538488505 2.9939643927789104 0;
   46.885100476364542 3.096584841736945 0;
   48.381874979464556 3.1948924196190918 0;
   49.878951847726285 3.2884810058016432 0;
   51.37634019890595 3.3769442815837016 0;
   52.874044984321365 3.4598757359962891 0;
   54.372066658021069 3.5368686772556726 0;
   55.870400845812341 3.6075162503092817 0;
   57.369038014196278 3.671411460922684 0;
   58.8679627576989 3.7281578592117861 0;
   60.367140794768574 3.7777688127128712 0;
   61.866523659152122 3.8207531578250689 0;
   63.366068909506666 3.8576478218748256 0;
   64.865740653375155 3.88899000870342 0;
   66.3655089701928 3.9153171356111991 0;
   67.865349333770865 3.937166781005621 0;
   69.365242034387677 3.9550766417191987 0;
   70.865171600593058 3.9695844989622167 0;
   72.365126220810183 3.9812281918741537 0;
   73.865097164799934 3.9905455976371416 0;
   75.365078205036667 3.9980746171143191 0;
   76.86506555014661 4.0042226492204165 0;
   78.365058007335023 4.0089633882717308 0;
   79.86505400366265 4.0124108908590994 0;
   81.36505223070516 4.0146952649335228 0;
   82.8650516827077 4.0159466197411575 0;
   84.3650516227284 4.0162950653504659 0;
   85.865051548781452 4.01587071229594 0;
   87.365051159979728 4.01480367132374 0;
   88.865050322677291 4.013224053224536 0;
   90.365049036611751 4.0112619687388946 0;
   91.865047401046667 4.0090475285205036 0;
   93.365045580914 4.0067108431425709 0;
   94.865043772956454 4.0043820231326963 0;
   96.365042171870044 4.0021911790215441 0;
   97.865040936446476 4.0002684213906274 0;
   99.365040171863072 3.9987605666119856 0;
   100.86503980649982 3.9977214126735334 0;
   102.36503967169195 3.9970952314177151 0;
   103.86503964436331 3.9968249528974638 0;
   105.36503964206052 3.9968535071325086 0;
   106.86503961643893 3.9971238241271045 0;
   108.36503954674873 3.997578833881275 0;
   109.86503943332092 3.9981614663968053 0;
   111.36503929105332 3.9988146516792265 0;
   112.86503914289671 3.9994813197370265 0];

t = [0 0.099999999999999992 0.20000000000000004 0.3000000000000001 0.40000000000000019 ...
     0.50000000000000022 0.60000000000000031 0.7000000000000004 0.80000000000000049 ...
     0.90000000000000058 1.0000000000000007 1.1000000000000008 1.2000000000000008 ...
     1.3000000000000009 1.400000000000001 1.5000000000000011 1.6000000000000012 ...
     1.7000000000000013 1.8000000000000014 1.9000000000000015 2.0000000000000013 ...
     2.0999999999999992 2.1999999999999971 2.2999999999999949 2.3999999999999928 ...
     2.4999999999999907 2.5999999999999885 2.6999999999999864 2.7999999999999843 ...
     2.8999999999999821 2.99999999999998 3.0999999999999779 3.1999999999999758 ...
     3.2999999999999736 3.3999999999999715 3.4999999999999694 3.5999999999999672 ...
     3.6999999999999651 3.799999999999963 3.8999999999999608 3.9999999999999587 ...
     4.099999999999957 4.1999999999999549 4.2999999999999527 4.3999999999999506 ...
     4.4999999999999485 4.5999999999999464 4.6999999999999442 4.7999999999999421 ...
     4.89999999999994 4.9999999999999378 5.0999999999999357 5.1999999999999336 ...
     5.2999999999999314 5.3999999999999293 5.4999999999999272 5.599999999999925 ...
     5.6999999999999229 5.7999999999999208 5.8999999999999186 5.9999999999999165 ...
     6.0999999999999144 6.1999999999999122 6.29999999999991 6.399999999999908 ...
     6.4999999999999059 6.5999999999999037 6.6999999999999016 6.7999999999998995 ...
     6.8999999999998973 6.9999999999998952 7.0999999999998931 7.1999999999998909 ...
     7.2999999999998888 7.3999999999998867 7.4999999999998845 7.5999999999998824 ...
     7.69999999999988 7.7999999999998781 7.899999999999876 7.9999999999998739 ...
     8.0999999999998717 8.19999999999987];

tout = [0; 0.1; 0.2; 0.30000000000000004; 0.4; 0.5; 0.60000000000000009; ...
        0.70000000000000007; 0.8; 0.9; 1; 1.1; 1.2000000000000002; 1.3; ...
        1.4000000000000001; 1.5; 1.6; 1.7000000000000002; 1.8; 1.9000000000000001; ...
        2; 2.1; 2.2; 2.3000000000000003; 2.4000000000000004; 2.5; 2.6; ...
        2.7; 2.8000000000000003; 2.9000000000000004; 3; 3.1; 3.2; 3.3000000000000003; ...
        3.4000000000000004; 3.5; 3.6; 3.7; 3.8000000000000003; 3.9000000000000004; ...
        4; 4.1000000000000005; 4.2; 4.3; 4.4; 4.5; 4.6000000000000005; ...
        4.7; 4.8000000000000007; 4.9; 5; 5.1000000000000005; 5.2; 5.3000000000000007; ...
        5.4; 5.5; 5.6000000000000005; 5.7; 5.8000000000000007; 5.9; 6; ...
        6.1000000000000005; 6.2; 6.3000000000000007; 6.4; 6.5; 6.6000000000000005; ...
        6.7; 6.8000000000000007; 6.9; 7; 7.1000000000000005; 7.2; 7.3000000000000007; ...
        7.4; 7.5; 7.6000000000000005; 7.7; 7.8000000000000007; 7.9; 8; ...
        8.1; 8.2000000000000011; 8.3; 8.4; 8.5; 8.6; 8.7000000000000011; ...
        8.8; 8.9; 9; 9.1; 9.2000000000000011; 9.3; 9.4; 9.5; 9.6000000000000014; ...
        9.7000000000000011; 9.8; 9.9; 10; 10.100000000000001; 10.200000000000001; ...
        10.3; 10.4; 10.5; 10.600000000000001; 10.700000000000001; 10.8; ...
        10.9; 11; 11.100000000000001; 11.200000000000001; 11.3; 11.4; 11.5; ...
        11.600000000000001; 11.700000000000001; 11.8; 11.9; 12; 12.100000000000001; ...
        12.200000000000001; 12.3; 12.4; 12.5; 12.600000000000001; 12.700000000000001; ...
        12.8; 12.9; 13; 13.100000000000001; 13.200000000000001; 13.3; 13.4; ...
        13.5; 13.600000000000001; 13.700000000000001; 13.8; 13.9; 14; 14.100000000000001; ...
        14.200000000000001; 14.3; 14.4; 14.5; 14.600000000000001; 14.700000000000001; ...
        14.8; 14.9; 15];

yawRef = [-0.017734585131802181 -0.0023783867480744541 0.039241603596663142 ...
          0.10712538590241065 0.20127296016916807 0.32168432639693528 0.46835948458571258 ...
          0.64129843473549952 0.82243120441432782 1.0284466171618847 1.2625895772261897 ...
          1.5248600846072435 1.8152581393050453 2.133783741319597 2.4804368906508958 ...
          2.8552175872989438 3.2581258312637407 3.6852031921171342 4.0725918737692446 ...
          4.4015950546183911 4.6722127346645754 4.8844449139077941 5.0382915923480533 ...
          5.1337527699853531 5.1708284468196917 5.1495186228510716 5.0867585477276682 ...
          5.02163347038271 4.95006090740082 4.872040858781995 4.787573324526238 ...
          4.6966583046335471 4.5992957991039214 4.4954858079373627 4.3852283311338685 ...
          4.268523368693443 4.1421046794896679 4.00026229516887 3.8429080694151376 ...
          3.6700420022284757 3.4816640936088827 3.2777743435563571 3.058372752070901 ...
          2.823459319152513 2.5730340448011941 2.3070969290169434 2.0288148473761831 ...
          1.7653020474819436 1.522336655896058 1.2999186726185261 1.0980480976493481 ...
          0.91672493098852348 0.75594917263605244 0.61572082259193561 0.49603988085617257 ...
          0.39690634742876296 0.3183202223097073 0.26028150549900531 0.20743891230476702 ...
          0.155555799189824 0.10864254782766856 0.066699158218300636 0.029725630361720226 ...
          -0.0022780357420727169 -0.0293118400930781 -0.051375782691295953 ...
          -0.068469863536726308 -0.080594082629369151 -0.087748439969224434 ...
          -0.0899329355562922 -0.087147569390572471 -0.079392341472065239 ...
          -0.066667251800770516 -0.04830659623807302 -0.031442242528749914 ...
          -0.016757802096312908 -0.004253274940762026 0.0060713389379027606 ...
          0.014216039539681403 0.020180826864573963 0.023965700912580403 ...
          0.025570661683700712 0.024995709177934915];

clear saveVarsMat;
